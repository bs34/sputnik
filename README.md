# Sputnik #

### What is it? ###

Sputnik is a gradle plugin that can be used to generate the 'versionName', 'versionCode' and apk file name for a project.
 
### How to use it ###

To add Sputnik to a project update the root `build.gradle` file to include the following within the `repositories` block 

```groovy 
repositories {
    maven { url "https://apps.tapadoo.com/nexus/content/repositories/tapadoo" }
    maven { url "https://apps.tapadoo.com/nexus/content/repositories/snapshots/" }
}
```

If you are not using a snapshot version of the plugin the second maven url can be omitted.

Then add to the `dependencies` block :

```groovy
dependencies {
    classpath group: 'com.tapadoo.android', name: 'sputnik', version: '0.5.8'
}
```

You then need to apply the plugin to the projects `build.gradle`
 
```groovy 
apply plugin: 'sputnik'
```

To configure sputnik add the following, **BEFORE** (or else Sputnik will be kaput) the android block:

```groovy 
sputnik {
    versionName {
        versionMajor 1
        versionMinor 2
        versionPatch 3
    }
    versionCode {
        baseValue 1
        codeType com.tapadoo.sputnik.options.VersionCodeType.DEFAULT
    }
    apkName {
        renameOutput true
        nameFormat '${appName}-${versionName}'
    }
}

android {
    ...
}

```

You can then update the project to use the `versionName` and `versionCode` generated by Sputnik.
 
```groovy
android {
    versionName sputnik.versionName
    versionCode sputnik.versionCode
}

```